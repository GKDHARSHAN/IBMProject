pipeline {
    agent any

    stages {
        stage('Build') {
            steps {
                echo 'Building...'
            }
        }
        stage('Test') {
            steps {
                echo 'Testing...'
            }
        }
    }

   post {
    success {
        echo 'Build succeeded!'

        // Create a Jira issue
        jiraIssue(
            site: 'https://your-jira-instance.atlassian.net/',
            projectKey: 'SMS-7',
            issueType: 'Task',
            summary: 'Build Succeeded for Job ${env.JOB_NAME}',
            description: 'The Jenkins build ${env.BUILD_NUMBER} succeeded!'
        )

        slackSend(
            channel: '#general',
            message: 'Build succeeded and Jira issue created! ðŸŽ‰',
            color: 'good',
            tokenCredentialId: 'slack-token-id'
        )
    }
    failure {
        echo 'Build failed!'

        // Transition a Jira issue to a specific state (e.g., "In Progress")
        jiraTransitionIssue(
            site: 'https://your-jira-instance.atlassian.net/',
            idOrKey: 'SMS-7',
            transitionName: 'In Progress'
        )

        slackSend(
            channel: '#general',
            message: 'Build failed, Jira issue updated! ðŸ’”',
            color: 'danger',
            tokenCredentialId: 'slack-token-id'
        )
    }
}

}
